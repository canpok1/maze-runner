# maze-runner

3Dä¸€äººç§°è¦–ç‚¹ã§è¿·è·¯ã‚’æ¢ç´¢ã™ã‚‹Webãƒ™ãƒ¼ã‚¹ã®ã‚²ãƒ¼ãƒ ã§ã™ã€‚Cloudflare Workersä¸Šã§å‹•ä½œã—ã¾ã™ã€‚

**ğŸ® [ãƒ—ãƒ¬ã‚¤ã¯ã“ã¡ã‚‰](https://maze-runner.6isstrong.workers.dev/)**

## ã‚²ãƒ¼ãƒ æ¦‚è¦

- **3Dæç”»**: ãƒ¬ã‚¤ã‚­ãƒ£ã‚¹ãƒ†ã‚£ãƒ³ã‚°æŠ€è¡“ã«ã‚ˆã‚‹ä¸€äººç§°è¦–ç‚¹ã®3Dè¿·è·¯
- **é›£æ˜“åº¦é¸æŠ**:
  - åˆç´šï¼ˆ11Ã—11ï¼‰
  - ä¸­ç´šï¼ˆ17Ã—17ï¼‰
  - ä¸Šç´šï¼ˆ23Ã—23ï¼‰
- **ã‚²ãƒ¼ãƒ è¦ç´ **: ãƒŸãƒ‹ãƒãƒƒãƒ—ã€ã‚¿ã‚¤ãƒãƒ¼ã€ã‚¹ã‚³ã‚¢è¡¨ç¤º

## æ“ä½œæ–¹æ³•

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰
- `W` / `â†‘`: å‰é€²
- `S` / `â†“`: å¾Œé€²
- `A` / `â†`: å·¦æ—‹å›
- `D` / `â†’`: å³æ—‹å›

### ã‚¿ãƒƒãƒ / ãƒã‚¦ã‚¹
ç”»é¢ä¸Šã®ãƒœã‚¿ãƒ³ã§æ“ä½œå¯èƒ½

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
npm install
```

## é–‹ç™º

```bash
npm run dev
```

ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã€`http://localhost:5173/` ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

## npmã‚¹ã‚¯ãƒªãƒ—ãƒˆ

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | èª¬æ˜ |
|-----------|------|
| `npm run dev` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆVite HMRï¼‰ |
| `npm run dev:server` | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰ + ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• |
| `npm run build` | TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ« + Viteãƒ“ãƒ«ãƒ‰ |
| `npm run preview` | ãƒ“ãƒ«ãƒ‰çµæœã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| `npm run test` | Vitestã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |
| `npm run test:watch` | Vitestã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ |
| `npm run test:e2e` | E2Eãƒ†ã‚¹ãƒˆå…¨å®Ÿè¡Œï¼ˆvitest + playwrightï¼‰ |
| `npm run test:e2e:vitest` | E2Eãƒ†ã‚¹ãƒˆï¼ˆAPIãƒ†ã‚¹ãƒˆãƒ»vitestï¼‰ |
| `npm run test:e2e:playwright` | E2Eãƒ†ã‚¹ãƒˆï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆãƒ»playwrightï¼‰ |
| `npm run test:e2e:setup` | Playwrightç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— |
| `npm run test:e2e:reset-db` | ãƒ†ã‚¹ãƒˆç”¨DBãƒªã‚»ãƒƒãƒˆ |
| `npm run test:e2e:report` | Playwrightãƒ¬ãƒãƒ¼ãƒˆé–²è¦§ |
| `npm run lint` | ã‚³ãƒ¼ãƒ‰ã®é™çš„è§£æãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯ |
| `npm run lint:fix` | é™çš„è§£æã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’è‡ªå‹•ä¿®æ­£ |
| `npm run format` | ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ã¿å®Ÿè¡Œ |
| `npm run deploy` | Cloudflare Workersã¸æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ |

## ãƒ†ã‚¹ãƒˆ

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test

# ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰
npm run test:watch
```

### E2Eãƒ†ã‚¹ãƒˆ

```bash
# Playwrightç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆåˆå›ã®ã¿ï¼‰
npm run test:e2e:setup

# E2Eãƒ†ã‚¹ãƒˆå…¨å®Ÿè¡Œ
npm run test:e2e

# Playwrightãƒ¬ãƒãƒ¼ãƒˆç¢ºèª
npm run test:e2e:report
```

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **TypeScript**: å‹å®‰å…¨ãªé–‹ç™ºç’°å¢ƒ
- **Vite**: é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- **Vitest**: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Playwright**: E2Eãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Biome**: ãƒªãƒ³ã‚¿ãƒ¼ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
- **Canvas 2D API**: ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹æç”»
- **Cloudflare Workers**: æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ types.ts             # å‹å®šç¾©
â”‚   â”œâ”€â”€ config.ts            # ã‚²ãƒ¼ãƒ è¨­å®š
â”‚   â”œâ”€â”€ game/
â”‚   â”‚   â””â”€â”€ state.ts         # ã‚²ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ maze/
â”‚   â”‚   â””â”€â”€ generator.ts     # è¿·è·¯ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â””â”€â”€ controls.ts      # å…¥åŠ›å‡¦ç†
â”‚   â”œâ”€â”€ renderer/
â”‚   â”‚   â”œâ”€â”€ index.ts         # ãƒ¡ã‚¤ãƒ³ãƒ¬ãƒ³ãƒ€ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ raycasting.ts    # 3Dæç”»
â”‚   â”‚   â””â”€â”€ minimap.ts       # ãƒŸãƒ‹ãƒãƒƒãƒ—æç”»
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ style.css        # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml       # è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
â”œâ”€â”€ wrangler.jsonc           # Cloudflare Workersè¨­å®š
â”œâ”€â”€ tsconfig.json            # TypeScriptè¨­å®š
â”œâ”€â”€ vite.config.ts           # Viteè¨­å®š
â”œâ”€â”€ vitest.config.ts         # Vitestè¨­å®š
â””â”€â”€ package.json             # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
```

## è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã«ã€GitHub Actionsã«ã‚ˆã‚Šè‡ªå‹•çš„ã«Cloudflare Workersã¸ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚

### å¿…è¦ãªè¨­å®š

GitHubãƒªãƒã‚¸ãƒˆãƒªã®Settings > Secrets and variablesã§ä»¥ä¸‹ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

- `CLOUDFLARE_API_TOKEN`: Cloudflare APIãƒˆãƒ¼ã‚¯ãƒ³
