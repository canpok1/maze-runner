---
name: solving-issue
description: GitHub Issueの実装からPR作成・マージまでの一連のフローを自動実行します。Issue対応の核となる実装・レビュー・PR管理を行う場合に使用してください。
layer: feature
argument-hint: [GitHub Issueの番号]
---
## 手順

このチェックリストをコピーし、進行状況の追跡に使用してください：

タスク進捗：
- [ ] ステップ1：Issue番号を確認する
- [ ] ステップ2：既存PRの確認を行う
- [ ] ステップ3：`/coding` コマンドの手順を実行する（実装・テスト）
- [ ] ステップ4：`/reviewing` コマンドの手順を実行する（自己レビュー）
- [ ] ステップ5：`/creating-pr` コマンドの手順を実行する（PR作成）
- [ ] ステップ6：PRがマージされるまで `/fixing-pr` を繰り返し実行し、マージ条件を満たしたらマージする

1. Issue番号を確認する。
    - 引数で指定されている場合、その番号を使用する。
    - 引数が未指定の場合は処理を終了する。
2. 既存PRの確認を行う。
    - Issue番号に対応するopen状態のPRを検索。複数あれば最も新しいものを選択。
    - PRが見つかれば手順6へ、なければ手順3へ。
3. `/coding` コマンドを実行（実装・テスト）。
4. `/reviewing` コマンドを実行（自己レビュー）。
5. `/creating-pr` コマンドを実行（PR作成）。
6. PRがマージされるまで、CIの結果やレビューコメントに応じて `/fixing-pr` を繰り返し実行。
    - `/fixing-pr` の完了条件を全て満たしたら、ブランチ保護ルールを確認する。
    - マージ条件（必要な承認数等）を満たしている場合は、速やかにマージを実行する。
    - マージ条件を満たしていない場合（承認待ち等）は、作業完了として処理を終了する。
    - PRがマージされずにクローズされた場合は作業中断。

## エージェント利用ルール

- ソースコードの実装は `coding-specialist` エージェントに依頼すること
    - 可能な限り複数エージェントで並列実行すること
    - 複数エージェントが作業する際は次の作業などで競合するため注意
        - 品質チェック手順の実行
        - 同一ファイルの編集
- 文章（プルリクエストやタスクの内容など）を考える際は `document-specialist` エージェントに依頼すること
- スキル（`.claude/skills/` 配下の定義）の作成・レビュー・改善は `skill-specialist` エージェントに依頼すること

## 注意点
- エラー発生時は報告し作業を中断する。
