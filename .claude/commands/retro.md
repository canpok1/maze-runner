---
description: 作業セッションを振り返り、.claude/配下の設定改善点を分析してGitHub Issueを作成する
---

## 手順

1. 今回の会話セッションでの作業内容を振り返る。
    - 実施したタスクの種類（Issue対応、PR作成、バグ修正など）
    - 使用したコマンド、スキル、エージェント
    - 発生した問題や非効率だった点
    - スムーズに進んだ点

2. .claude/配下の設定ファイルを確認する。
    - `CLAUDE.md`: 基本的な動作ルール、コミュニケーション方針
    - `agents/`: エージェント定義の明確性、役割分担の適切性
    - `skills/`: スキルの網羅性、実行ロジックの妥当性
    - `commands/`: ワークフローの順序、ステップの過不足

3. 振り返り内容と現在の設定を照らし合わせて改善点を分析する。
    - 曖昧だった指示や判断に迷った箇所
    - 実行手順の過不足や順序の問題
    - エージェント間の役割分担の重複や不明瞭さ
    - 不足しているスキルやコマンド
    - 実際の運用と乖離している設定

4. 改善が必要と判断した場合、内容に応じて対応を分岐する。
    - 些細な修正（誤字脱字など）の場合: ユーザーに確認の上で直接修正する。
    - 上記以外の場合: GitHub Issueを作成する。ただし作成前に重複チェックを行う。
        1. 作成予定のIssueタイトル全体を検索クエリとして使用し、`github` スキルで既存のopen状態のIssueを検索する。
        2. 類似するIssueが見つかった場合:
            - Issue作成をスキップする。
            - スキップした旨と、既存IssueのタイトルおよびURLを表示する。
        3. 類似するIssueが見つからなかった場合: `github` スキルでIssueを作成する。
            - タイトル: 簡潔で具体的な改善内容を示す
            - 本文: 以下を含める
                - 現状の問題点
                - 改善提案（具体的な変更内容）
                - 期待される効果
            - ラベル: Issueの内容に応じて以下のいずれかを `issue-create.sh` の `--label` オプションで付与する
                - ユーザーに価値を提供する改善（ユーザーストーリー相当）の場合: `--label story`
                - 具体的な実現方法・修正（タスク相当）の場合: `--label task`

5. 改善不要の場合は、Issue作成せずその旨をユーザーに報告する。
    - 振り返った結果、特に問題がなかったことを伝える
    - 必要に応じて、うまく機能している点を共有する

## 注意点

- 改善点は具体的かつ実行可能な形で提案すること
- 複数の改善点がある場合、それぞれ独立したIssueとして作成すること
- 主観的な「好み」ではなく、実際に発生した問題や非効率性に基づいて判断すること
- 設定の意図を理解した上で改善を提案すること（既存の方針を尊重する）
- ラベルの判断基準
    - `story`: エンドユーザーや開発者体験に直接価値を提供する改善。ユーザーストーリーとして表現できるもの（例: 「〜として〜したい」）
    - `task`: 内部的な改善や具体的な修正作業。技術的な実装タスクとして表現されるもの
