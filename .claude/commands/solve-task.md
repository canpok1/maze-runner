---
description: タスクIssueの実装からPR作成・レビュー対応・振り返りまでを一括実行する
argument-hint: [GitHub IssueのURLまたは番号]
---
## 手順
1. GitHub Issueの番号を決定する。
    - 引数でIssue番号が指定されている場合、その番号を使用する。
    - 引数でIssue URLが指定されている場合、URLパスからIssue番号を抽出する。
    - 引数が未指定の場合、以下の条件でIssueを自動選択する:
        - `assign-to-claude` ラベルが付いている
        - `in-progress-by-claude` ラベルが付いていない
        - open状態である
        - 上記条件に合致するIssueから最も古いものを1件選択する
    - 自動選択の対象Issueがない場合は「対象タスクがありません」とユーザーに通知し、処理を終了する。
2. 既存PRの確認を行う。
    - 手順1で取得したIssue番号に対応するopen状態のPRを検索する（`github` スキルの `pr-search.sh` を使用）。複数見つかった場合は、最も新しく更新されたものを1件選択する。
    - PRが見つかった場合は、そのPRを対象として手順5へ進む。
    - PRが見つからなかった場合は手順3へ進む。
3. `/develop` コマンドの手順を実行する（実装・テスト・自己レビュー）。
    - 手順1で取得したIssue番号を引数として渡す。
4. `/create-pr` コマンドの手順を実行する（PR作成）。
5. PRがマージされるまで、CIの結果やレビューコメントに応じて `/fix-pr` コマンドを繰り返し実行する。
    - PRがマージされずにクローズされた場合は、その時点でユーザーに報告し、作業を中断する。
6. PRがマージされたら、`/retro` コマンドの手順を実行する（振り返り）。

## 注意点
- 各ステップ間でユーザーに確認を求めず、自律的に進行すること。
- 各コマンドの詳細な手順は、それぞれのコマンド定義に従うこと。
- いずれかのステップでエラーが発生した場合は、その時点でユーザーに報告し、作業を中断すること。
